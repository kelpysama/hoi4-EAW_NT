## MTG_naval_Support.txt
## Defines (MTG) naval support technologies and positions
## Original mod by Sig "Greatexperiment" Altre!

technologies = {
	## Horizontal positions (Y)
	@993 = 1
	@1000 = 4
	@1007 = 7
	@1009 = 10
	@1011 = 13
	@1013 = 16
	@1015 = 19
	@1017 = 22
	@1019 = 25
	@1021 = 28
	@1023 = 31
	@1025 = 34
	@1027 = 37
	@1029 = 40
	## Vertical positions (X)
	@light_battery = 0
	@medium_battery = 2
	@heavy_battery = 4

	@light_missile = 1
	@heavy_missile = 3

	@torpedo_battery = 6
	@torpedo_technology = 8
	@torpedo_subtech = 9

	@damage_control = 0
	@fire_control = 2
	@transport_ships = 4

	@seamine_deployment = 0
	@seamine_tech = 2
	@seamine_sub_tech = 4



    #region NavalWeapons
    ##NOTE: Removed Dual-purpose Battery techs cause they bloated the folder. They're now unlocked by their closest counterpart.
	basic_battery = {

		dependencies = {
			basic_machine_tools = 1
		}

		enable_equipment_modules = {
			ship_light_battery_1
			ship_medium_battery_1
			ship_light_medium_battery_1
			ship_heavy_battery_1
			ship_secondaries_1
		}
		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
			custom_effect_tooltip = medium_battery_advice_tt
			custom_effect_tooltip = heavy_battery_advice_tt
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_light_battery
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_medium_battery
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_heavy_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 993
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @993 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			cat_ship_medium_battery
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = early_ship_hull_light
					has_tech = early_ship_hull_cruiser
					has_tech = early_ship_hull_heavy
				}
				factor = 500
			}
		}
	}

    ## Light Battery
	basic_light_battery = {

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_light_battery_2
			tank_naval_cannon
		}

		path = {
			leads_to_tech = basic_light_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1000
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = basic_ship_hull_light
				factor = 20
			}
		}
	}
	basic_light_shell = {

		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		monitor = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = improved_light_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1007 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 10
			}
		}
	}
	improved_light_battery = {
        #MODIFIED: DP Unlock

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_light_battery_3

			dp_light_battery_2
			dp_ship_secondaries_2
			dp_light_battery_1
			dp_ship_secondaries_1
		}

		path = {
			leads_to_tech = improved_light_shell
			research_cost_coeff = 1
		}
		# path = {
		# 	leads_to_tech = basic_dp_light_battery
		# 	research_cost_coeff = 1
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1009
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1009 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = improved_ship_hull_light
				factor = 20
			}
		}
	}
	improved_light_shell = {
        #MODIFIED: DP Unlock

		enable_equipment_modules = {
			dp_light_battery_3
			dp_ship_secondaries_3
		}
		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		monitor = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = advanced_light_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1013 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 10
			}
		}
	}
	advanced_light_battery = {
        #MODIFIED: DP Unlock

		enable_equipment_modules = {
			ship_light_battery_4

			dp_light_battery_4
			dp_ship_secondaries_4
		}
		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_light_missile
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1015
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1015 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = advanced_ship_hull_light
				factor = 20
			}
		}
	}

    ## Medium Battery
	basic_medium_battery = {

		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
			custom_effect_tooltip = secondary_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_medium_battery_2
			ship_light_medium_battery_2
			ship_secondaries_2
		}

		path = {
			leads_to_tech = basic_medium_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1000
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = improved_ship_hull_cruiser
				factor = 5
			}
		}
	}
	basic_medium_shell = {

		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = improved_medium_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1007 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 7
			}
		}
	}
	improved_medium_battery = {

		path = {
			leads_to_tech = improved_medium_shell
			research_cost_coeff = 1
		}
		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_medium_battery_3
			ship_light_medium_battery_3
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1009
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1009 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = advanced_ship_hull_cruiser
				factor = 5
			}
		}
	}
	improved_medium_shell = {

		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = advanced_medium_battery
			research_cost_coeff = 1
		}
		# path = {
		# 	leads_to_tech = basic_dp_medium_battery
		# 	research_cost_coeff = 1
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1013 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 7
			}
		}
	}
	advanced_medium_battery = {
        #MODIFIED: DP Unlock

		enable_equipment_modules = {
			ship_medium_battery_4
			ship_light_medium_battery_4
			dp_ship_medium_1
		}
		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_light_missile
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_heavy_missile
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1015
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1015 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
		}
	}

    ## Heavy Battery
	basic_heavy_battery = {

		enable_equipment_modules = {
			ship_heavy_battery_2
			ship_super_heavy_battery_1
		}
		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_heavy_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1000
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = basic_ship_hull_heavy
				factor = 20
			}
			modifier = {
				OR = {
					tag = EQS
					tag = NLR
				}
				factor = 2
			}
		}
	}
    basic_heavy_shell = {

		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		monitor = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = improved_heavy_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1007 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				is_major = yes
				has_war = yes
				factor = 5
			}
		}
	}
    improved_heavy_battery = {

		enable_equipment_modules = {
			ship_heavy_battery_3
		}
		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		path = {
			leads_to_tech = improved_heavy_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1009
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1009 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = improved_ship_hull_heavy
				factor = 20
			}
			modifier = {
				OR = {
					tag = EQS
					tag = NLR
				}
				factor = 2
			}
		}
	}
    improved_heavy_shell = {

		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		monitor = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = advanced_heavy_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1013 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				is_major = yes
				has_war = yes
				factor = 5
			}
		}
	}
    advanced_heavy_battery = {

		enable_equipment_modules = {
			ship_heavy_battery_4
			ship_super_heavy_battery_2
		}
		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_heavy_missile
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1015
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1015 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = advanced_ship_hull_heavy
				factor = 20
			}
			modifier = {
				OR = {
					tag = EQS
					tag = NLR
				}
				factor = 2
			}
		}
	}

    ## Torpedo Launchers
	basic_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2

		start_year = 993

		path = {
			leads_to_tech = magnetic_detonator
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = improved_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_torpedo_1
		}

		dependencies = {
			pre_gw_artillery = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @993 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules #Not really Sub but unlocks tech improving Subs torpedo stuff later
		}
		special_project_specialization = { specialization_naval }
	}

	improved_ship_torpedo_launcher = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1007

		path = {
			leads_to_tech = advanced_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		dependencies = {
			gw_artillery = 1
		}

		enable_equipment_modules = {
			ship_torpedo_2
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1007 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    advanced_ship_torpedo_launcher = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1011

		path = {
			leads_to_tech = modern_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_torpedo_3
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1011 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    modern_ship_torpedo_launcher = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1015

		enable_equipment_modules = {
			ship_torpedo_4
		}

		on_research_complete = {
			if = {
				limit = { has_dlc = "Gotterdammerung"}
				custom_effect_tooltip = {
					localization_key = SP_UNLOCK_PROJECT
					PROJECT = sp_naval_nuclear_torpedo
				}
			}
		}
##
		path = {
			leads_to_tech = modern_ship_torpedo_launcher_2
			research_cost_coeff = 1
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1015 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			naval_weaponry
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	modern_ship_torpedo_launcher_2 = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1019

		enable_equipment_modules = {
			ship_torpedo_5
		}

		path = {
			leads_to_tech = modern_ship_torpedo_launcher_3
			research_cost_coeff = 1
		}


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1019 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    modern_ship_torpedo_launcher_3 = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1023

		enable_equipment_modules = {
			ship_torpedo_6
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1023 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    ## Torpedo Upgrades
	magnetic_detonator = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1007

		path = {
			leads_to_tech = homing_torpedo
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = electric_torpedo
			research_cost_coeff = 1
		}

		dependencies = {
			electronic_mechanical_engineering = 1
		}

		destroyer = {
			torpedo_attack = 0.2
		}
		submarine = {
			torpedo_attack = 0.2
		}
		light_cruiser = {
			torpedo_attack = 0.2
		}
		heavy_cruiser = {
			torpedo_attack = 0.2
		}



		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1007 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	homing_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		path = {
			leads_to_tech = advanced_homing_torpedo
			research_cost_coeff = 1
		}

		start_year = 1013
		destroyer = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1013 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

 	advanced_homing_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5


		path = {
			leads_to_tech = wire_torpedo
			research_cost_coeff = 1
		}

		start_year = 1019
		destroyer = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1019 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	wire_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5


		start_year = 1025
		destroyer = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.1


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1025 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	electric_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1011

		path = {
			leads_to_tech = silent_torpedo
			research_cost_coeff = 1
		}



		naval_torpedo_reveal_chance_factor = -0.25


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = @1011_2 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	silent_torpedo = {

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5

		start_year = 1016
		path = {
			leads_to_tech = advanced_homing_torpedo
			research_cost_coeff = 1
		}

		naval_torpedo_reveal_chance_factor = -0.15


		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = @1017 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    ## Missiles
	basic_light_missile = {
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1021
		enable_equipment_modules = {
			ship_light_ASM_battery_1
			ship_medium_ASM_battery_1
		}
		dependencies = {
			sp_rockets_dual_chamber_rocket_engine_1 = 1
		}
		path = {
			leads_to_tech = improved_light_missile
			research_cost_coeff = 1
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = -2 y = @1021 }
		}
		path = {
			leads_to_tech = basic_heavy_missile
			research_cost_coeff = 0.9
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}

		}

		categories = {
			naval_equipment
			naval_weaponry
			cat_ship_light_battery
			cat_ship_medium_battery
			rocketry
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	improved_light_missile = {
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1026
		enable_equipment_modules = {
			ship_light_ASM_battery_2
			ship_medium_ASM_battery_2
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = -2 y = @1026 }
		}
		path = {
			leads_to_tech = improved_heavy_missile
			research_cost_coeff = 0.9
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}

		}

		categories = {
			naval_equipment
			naval_weaponry
			rocketry
			cat_ship_light_battery
			cat_ship_medium_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	basic_heavy_missile = {
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1021
		enable_equipment_modules = {
			ship_heavy_ASM_battery_1
			ship_super_heavy_ASM_battery_1
		}
		dependencies = {
			sp_rockets_dual_chamber_rocket_engine_1 = 1
		}
		path = {
			leads_to_tech = improved_heavy_missile
			research_cost_coeff = 1
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1021 }
		}
		path = {
			leads_to_tech = basic_light_missile
			research_cost_coeff = 0.9
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}

		}

		categories = {
			naval_equipment
			naval_weaponry
			rocketry
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}

		special_project_specialization = { specialization_naval }
	}

	improved_heavy_missile = {
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1026
		enable_equipment_modules = {
			ship_heavy_ASM_battery_2
			ship_super_heavy_ASM_battery_2
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1026 }
		}
		path = {
			leads_to_tech = improved_light_missile
			research_cost_coeff = 0.9
		}
		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}

		}

		categories = {
			naval_equipment
			naval_weaponry
			rocketry
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }
	}


    #region NavalSupport
    ## Damage Control
	damage_control_1 = {

		research_cost = 2.5
		path = {
			leads_to_tech = damage_control_2
			research_cost_coeff = 1
		}
		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @993 }
		}

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	damage_control_2 = {

		research_cost = 2.5
		path = {
			leads_to_tech = damage_control_3
			research_cost_coeff = 1
		}
		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1000 }
		}

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	damage_control_3 = {

		research_cost = 2.5
		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1007 }
		}

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    ## Fire Control
	fire_control_methods_1 = {

		research_cost = 2.5
		path = {
			leads_to_tech = fire_control_methods_2
			research_cost_coeff = 1
		}
		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		monitor = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @993 }
		}

		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	fire_control_methods_2 = {
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		path = {
			leads_to_tech = fire_control_methods_3
			research_cost_coeff = 1
		}
		battleship = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		battle_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		monitor = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		heavy_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1000 }
		}

		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	fire_control_methods_3 = {

		research_cost = 2.5
		battleship = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		battle_cruiser = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		monitor = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		heavy_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		light_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		destroyer = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		submarine = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1007 }
		}

		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    ## Transport
	mtg_transport = { #WHEN BALANCING - ALSO FIX REGULAR NAVAL TREE

		transport_capacity = -0.33
		naval_invasion_capacity = 10

		path = {
			leads_to_tech = mtg_landing_craft
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = sp_multi_product_supply_ships
			research_cost_coeff = 1
		}

		research_cost = 1.5
		start_year = 993

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @993 }
		}

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0.5
				has_war = no
			}

			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 3
			}
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}

	mtg_landing_craft = {

		invasion_preparation = -0.25
		amphibious_invasion_defence = 0.15
		naval_invasion_capacity = 20

		path = {
			leads_to_tech = mtg_tank_landing_craft
			research_cost_coeff = 1
		}

		enable_equipments = {
			floating_harbor_equipment_1
		}

		force_use_small_tech_layout = yes
		show_equipment_icon = yes

		research_cost = 2
		start_year = 1011

		dependencies = {
			basic_ship_hull_light = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1011 }
		}

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}

		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}

	mtg_tank_landing_craft = {

		amphibious_invasion = 0.25
		amphibious_invasion_defence = 0.5
		naval_invasion_capacity = 100

		path = {
			leads_to_tech = mtg_semi_modern_landing_craft
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1015
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1015 }
		}

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}

		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}

	mtg_semi_modern_landing_craft = {

		invasion_preparation = -0.25
		amphibious_invasion = 0.3
		naval_invasion_capacity = 125
		on_research_complete = {
			custom_effect_tooltip = {
				localization_key = SP_UNLOCK_PROJECT
				PROJECT = sp_naval_hovercraft
			}
		}

		path = {
			leads_to_tech = mtg_modern_landing_craft
			research_cost_coeff = 1
		}

		research_cost = 2
		start_year = 1019

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1019 }
		}

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}

		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}

	mtg_modern_landing_craft = {

		amphibious_invasion = 0.4
		amphibious_invasion_defence = 0.6
		naval_invasion_capacity = 150

		research_cost = 2
		start_year = 1023

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1023 }
		}

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}

		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}


    #region SeaMining
    ## Deployment
	basic_naval_mines = {

		research_cost = 2

		start_year = 993

		path = {
			leads_to_tech = improved_naval_mines
			research_cost_coeff = 1
		}

		dependencies = {
			gw_artillery = 1
		}

		path = {
			leads_to_tech = submarine_mine_laying
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_mine_layer_1
		}

		enable_equipment_modules = {
			ship_mine_sweeper_1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @993 }
		}

		ai_will_do = {
			factor = 1.5
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = no
				factor = 2
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	improved_naval_mines = {
		research_cost = 2

		start_year = 1007

		path = {
			leads_to_tech = advanced_naval_mines
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = degaussing
			research_cost_coeff = 1
		}



		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1007 }
		}

		ai_will_do = {
			factor = 1.5
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = no
				factor = 2
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	advanced_naval_mines = {

		research_cost = 2

		start_year = 1013

		path = {
			leads_to_tech = modern_naval_mines
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = airdrop_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airdrop_mines_bba
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1013 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	modern_naval_mines = {

		research_cost = 2

		start_year = 1016

		path = {
			leads_to_tech = airsweep_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airsweep_mines_bba
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = modern_naval_mines_2
			research_cost_coeff = 1
		}

		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1016 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	modern_naval_mines_2 = {

		research_cost = 2

		start_year = 1019

		path = {
			leads_to_tech = degaussing_2
			research_cost_coeff = 1
		}

		path = {
			leads_to_tech = modern_naval_mines_3
			research_cost_coeff = 1
		}
		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1019 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	modern_naval_mines_3 = {

		research_cost = 2

		start_year = 1022


		naval_mines_damage_factor = 0.2 # more boom for the boom box
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 0 y = @1022 }
		}
		path = {
			leads_to_tech = advanced_air_mines
			research_cost_coeff = 1
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

    ## Detection
	degaussing = {

		research_cost = 1

		start_year = 1009

		naval_mines_effect_reduction = 0.5
		destroyer = {
			sub_detection = 0.1
			}
		light_cruiser = {
			sub_detection = 0.1
			}
		heavy_cruiser = {
			sub_detection = 0.1
			}
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1009 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	airdrop_mines = {
		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		research_cost = 2

		start_year = 1013

		category_nav_bomber = {
			mines_planting = 0.05
		}
		category_tac_bomber = {
			mines_planting = 0.08
		}
		category_strat_bomber = {
			mines_planting = 0.13
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1013 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
		special_project_specialization = { specialization_naval }
	}

	airdrop_mines_bba = {
		allow_branch = {
			has_dlc = "By Blood Alone"
		}

		research_cost = 1

		start_year = 1013

		enable_equipment_modules = {
			airdropped_mines
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1013 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
		special_project_specialization = { specialization_naval }
	}

	airsweep_mines = {
		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		research_cost = 2

		start_year = 1016

		category_nav_bomber = {
			mines_sweeping = 0.1
		}

		category_tac_bomber = {
			mines_sweeping = 0.15
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1016 }
		}

		ai_will_do = {
			factor = 1
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
		special_project_specialization = { specialization_naval }
	}

	airsweep_mines_bba = {
		allow_branch = {
			has_dlc = "By Blood Alone"
		}

		research_cost = 1

		start_year = 1016

		enable_equipment_modules = {
			demining_coil
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1016 }
		}

		ai_will_do = {
			factor = 1
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
		special_project_specialization = { specialization_naval }

	}

	degaussing_2 = {

		research_cost = 1

		start_year = 1021

		naval_mines_effect_reduction = 0.25

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1021 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	advanced_air_mines = { # only needed for non-BBA because it only lets CAS do mining/demining
		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		research_cost = 3

		start_year = 1025

		category_cas = {
			mines_planting = 0.05
			mines_sweeping = 0.1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 2 y = @1025 }
		}

		ai_will_do = {
			factor = 1
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
		special_project_specialization = { specialization_naval }
	}

    ## Submarines
	submarine_mine_laying = {

		research_cost = 2

		start_year = 993

		path = {
			leads_to_tech = improved_submarine_mine_laying
			research_cost_coeff = 1
		}

		enable_equipment_modules = {
			ship_mine_layer_sub
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 4 y = @993 }
		}

		ai_will_do = {
			factor = 1.5
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	improved_submarine_mine_laying = {

		research_cost = 2

		start_year = 1011

		path = {
			leads_to_tech = advanced_submarine_mine_laying
			research_cost_coeff = 1
		}

		submarine = {
			mines_planting = 0.2
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 4 y = @1011 }
		}

		ai_will_do = {
			factor = 3
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}

	advanced_submarine_mine_laying = {

		research_cost = 2

		start_year = 1019

		submarine = {
			mines_planting = 0.2
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 4 y = @1019 }
		}

		ai_will_do = {
			factor = 3
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }
	}


	#region SpecialProjects
	sp_multi_product_supply_ships = {

		underway_replenishment_range = 0.25
		underway_replenishment_convoy_cost = -0.2
		allow_branch = {
			has_dlc = "Gotterdammerung"
	   }


		allow = {
	 		ROOT = {
				is_special_project_completed = sp:sp_naval_underway_replenishment
			}
		}

		path = {
			leads_to_tech = sp_standard_tenshioned_replenishment_alongside_method
			research_cost_coeff = 1
		}
		force_use_small_tech_layout = yes
		is_special_project_tech = yes
		xp_research_type = navy
		xp_boost_cost = 75
		xp_research_bonus = 1.75
		research_cost = 2.0
		start_year = 1009
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 1 y = 10 }
		}

		folder = {
			name = naval_folder
			position = { x = 1 y = 10 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}

	sp_standard_tenshioned_replenishment_alongside_method = {

		allow = {
	 		ROOT = {
				is_special_project_completed = sp:sp_naval_underway_replenishment
			}
		}

		underway_replenishment_range = 0.25
		underway_replenishment_convoy_cost = -0.2

		force_use_small_tech_layout = yes
		is_special_project_tech = yes
		xp_research_type = navy
		xp_boost_cost = 75
		xp_research_bonus = 1.5
		research_cost = 2.5
		start_year = 1014
		folder = {
			name = mtgnavalsupportfolder
			position = { x = 1 y = 17 }
		}

		folder = {
			name = naval_folder
			position = { x = 1 y = 17 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}




    #region Deleted
	basic_dp_light_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1010

		enable_equipment_modules = {
			dp_light_battery_2
			dp_ship_secondaries_2
			dp_light_battery_1
			dp_ship_secondaries_1
		}

		path = {
			leads_to_tech = improved_dp_light_battery
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 11 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
	improved_dp_light_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1010

		enable_equipment_modules = {
			dp_light_battery_3
			dp_ship_secondaries_3
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = advanced_dp_light_battery
			research_cost_coeff = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 13 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
	advanced_dp_light_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1015

		enable_equipment_modules = {
			dp_light_battery_4
			dp_ship_secondaries_4
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 19 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}
	basic_dp_medium_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1015

		enable_equipment_modules = {
			dp_ship_medium_1
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = 19 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
}