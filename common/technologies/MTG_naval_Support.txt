## MTG_naval_Support.txt
## Defines (MTG) naval support technologies and positions
## Original mod by Sig "Greatexperiment" Altre!

technologies = {
	## Horizontal positions (Y)
	@993 = 1
	@1000 = 4
	@1007 = 7
	@1010 = 10
	@1013 = 13
	@1016 = 16
	@1019 = 19
	@1022 = 22
	@1025 = 25
	@1028 = 28
	@1031 = 31
	@1034 = 34

	## Vertical positions (X)
	@light_battery = 0
	@medium_battery = 2
	@heavy_battery = 4

	@light_missile = 1
	@heavy_missile = 3

	@torpedo_battery = 6
	@torpedo_technology = 8
	@torpedo_subtech = 9

	@damage_control = 0
	@fire_control = 2
	@transport_ships = 4
	@ns_sp = 5

	@seamine_deployment = 0
	@seamine_tech = 2
	@seamine_sub_tech = 4



    #region NavalWeapons
    ##NOTE: Removed Dual-purpose Battery techs cause they bloated the folder. They're now unlocked by their closest counterpart.
	basic_battery = {

		dependencies = {
			basic_machine_tools = 1
		}

		enable_equipment_modules = {
			ship_light_battery_1
			ship_medium_battery_1
			ship_light_medium_battery_1
			ship_heavy_battery_1
			ship_secondaries_1
		}
		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
			custom_effect_tooltip = medium_battery_advice_tt
			custom_effect_tooltip = heavy_battery_advice_tt
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_light_battery
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_medium_battery
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_heavy_battery
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_torpedo
			research_cost_coeff = 0.9
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 993
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @993 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			cat_ship_medium_battery
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				OR = {
					has_tech = early_ship_hull_light
					has_tech = early_ship_hull_cruiser
					has_tech = early_ship_hull_heavy
				}
				factor = 500
			}
		}
	}
    ## Light Battery
	basic_light_battery = {

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_light_battery_2
			tank_naval_cannon
		}

		path = {
			leads_to_tech = basic_light_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1000
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = basic_ship_hull_light
				factor = 20
			}
		}
	}
	basic_light_shell = {

		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		monitor = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = improved_light_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1007 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 10
			}
		}
	}
	improved_light_battery = {
        #MODIFIED: DP Unlock

		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_light_battery_3

			dp_light_battery_2
			dp_ship_secondaries_2
			dp_light_battery_1
			dp_ship_secondaries_1
		}

		path = {
			leads_to_tech = improved_light_shell
			research_cost_coeff = 1
		}
		# path = {
		# 	leads_to_tech = basic_dp_light_battery
		# 	research_cost_coeff = 1
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1010
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1010 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = improved_ship_hull_light
				factor = 20
			}
		}
	}
	improved_light_shell = {
        #MODIFIED: DP Unlock

		enable_equipment_modules = {
			dp_light_battery_3
			dp_ship_secondaries_3
		}
		destroyer = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battleship = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		carrier = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		monitor = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = advanced_light_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1016
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1016 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 10
			}
		}
	}
	advanced_light_battery = {
        #MODIFIED: DP Unlock

		enable_equipment_modules = {
			ship_light_battery_4

			dp_light_battery_4
			dp_ship_secondaries_4
		}
		on_research_complete = {
			custom_effect_tooltip = light_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_light_missile
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1022
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_battery y = @1022 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_light_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = advanced_ship_hull_light
				factor = 20
			}
		}
	}
    ## Medium Battery
	basic_medium_battery = {

		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
			custom_effect_tooltip = secondary_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_medium_battery_2
			ship_light_medium_battery_2
			ship_secondaries_2
		}

		path = {
			leads_to_tech = basic_medium_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1000
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = improved_ship_hull_cruiser
				factor = 5
			}
		}
	}
	basic_medium_shell = {

		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = improved_medium_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1007 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 7
			}
		}
	}
	improved_medium_battery = {

		path = {
			leads_to_tech = improved_medium_shell
			research_cost_coeff = 1
		}
		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
		}
		enable_equipment_modules = {
			ship_medium_battery_3
			ship_light_medium_battery_3
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1010
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1010 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = advanced_ship_hull_cruiser
				factor = 5
			}
		}
	}
	improved_medium_shell = {

		light_cruiser = {
			lg_attack = 0.05
			lg_armor_piercing = 0.05
		}
		heavy_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = advanced_medium_battery
			research_cost_coeff = 1
		}
		# path = {
		# 	leads_to_tech = basic_dp_medium_battery
		# 	research_cost_coeff = 1
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1016
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1016 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_war = yes
				factor = 7
			}
		}
	}
	advanced_medium_battery = {
        #MODIFIED: DP Unlock

		enable_equipment_modules = {
			ship_medium_battery_4
			ship_light_medium_battery_4
			dp_ship_medium_1
		}
		on_research_complete = {
			custom_effect_tooltip = medium_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_light_missile
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = basic_heavy_missile
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1022
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @medium_battery y = @1022 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_medium_battery
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
		}
	}
    ## Heavy Battery
	basic_heavy_battery = {

		enable_equipment_modules = {
			ship_heavy_battery_2
			ship_super_heavy_battery_1
		}
		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_heavy_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1000
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = basic_ship_hull_heavy
				factor = 20
			}
			modifier = {
				OR = {
					tag = EQS
					tag = NLR
				}
				factor = 2
			}
		}
	}
    basic_heavy_shell = {

		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		monitor = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = improved_heavy_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1007 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				is_major = yes
				has_war = yes
				factor = 5
			}
		}
	}
    improved_heavy_battery = {

		enable_equipment_modules = {
			ship_heavy_battery_3
		}
		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		path = {
			leads_to_tech = improved_heavy_shell
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1010
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1010 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = improved_ship_hull_heavy
				factor = 20
			}
			modifier = {
				OR = {
					tag = EQS
					tag = NLR
				}
				factor = 2
			}
		}
	}
    improved_heavy_shell = {

		battleship = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		battle_cruiser = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}
		monitor = {
			hg_attack = 0.05
			hg_armor_piercing = 0.05
		}

		path = {
			leads_to_tech = advanced_heavy_battery
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 0.5
		start_year = 1016
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1016 }
		}

		categories = {
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				is_major = yes
				has_war = yes
				factor = 5
			}
		}
	}
    advanced_heavy_battery = {

		enable_equipment_modules = {
			ship_heavy_battery_4
			ship_super_heavy_battery_2
		}
		on_research_complete = {
			custom_effect_tooltip = heavy_battery_advice_tt
		}

		path = {
			leads_to_tech = basic_heavy_missile
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1022
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_battery y = @1022 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				has_tech = advanced_ship_hull_heavy
				factor = 20
			}
			modifier = {
				OR = {
					tag = EQS
					tag = NLR
				}
				factor = 2
			}
		}
	}
    ## Torpedo Launchers
	basic_torpedo = {

		dependencies = {
			pre_gw_artillery = 1
		}

		enable_equipment_modules = {
			ship_torpedo_1
		}

		path = {
			leads_to_tech = magnetic_detonator
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = improved_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 993
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_battery y = @993 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules #Not really Sub but unlocks tech improving Subs torpedo stuff later
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
	}
	improved_ship_torpedo_launcher = {

		dependencies = {
			gw_artillery = 1
		}

		enable_equipment_modules = {
			ship_torpedo_2
		}

		path = {
			leads_to_tech = advanced_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_battery y = @1007 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
    advanced_ship_torpedo_launcher = {

		enable_equipment_modules = {
			ship_torpedo_3
		}

		path = {
			leads_to_tech = modern_ship_torpedo_launcher
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_battery y = @1013 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
    modern_ship_torpedo_launcher = {

		on_research_complete = {
			if = {
				limit = { has_dlc = "Gotterdammerung"}
				custom_effect_tooltip = {
					localization_key = SP_UNLOCK_PROJECT
					PROJECT = sp_naval_nuclear_torpedo
				}
			}
		}
		enable_equipment_modules = {
			ship_torpedo_4
		}

		path = {
			leads_to_tech = modern_ship_torpedo_launcher_2
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5
		start_year = 1019
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_battery y = @1019 }
		}

		categories = {
			naval_equipment
			naval_weaponry
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
	modern_ship_torpedo_launcher_2 = {

		enable_equipment_modules = {
			ship_torpedo_5
		}

		path = {
			leads_to_tech = modern_ship_torpedo_launcher_3
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_battery y = @1025 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
    modern_ship_torpedWo_launcher_3 = {

		enable_equipment_modules = {
			ship_torpedo_6
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5
		start_year = 1031
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_battery y = @1031 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
    ## Torpedo Upgrades
	magnetic_detonator = {

		dependencies = {
			electronic_mechanical_engineering = 1
		}

		destroyer = {
			torpedo_attack = 0.2
		}
		submarine = {
			torpedo_attack = 0.2
		}
		light_cruiser = {
			torpedo_attack = 0.2
		}
		heavy_cruiser = {
			torpedo_attack = 0.2
		}

		path = {
			leads_to_tech = homing_torpedo
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = electric_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_technology y = @1007 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 3
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
	}
	homing_torpedo = {

		destroyer = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}

		path = {
			leads_to_tech = advanced_homing_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_technology y = @1013 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
	}
 	advanced_homing_torpedo = {

		destroyer = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.1
		}

		path = {
			leads_to_tech = wire_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		start_year = 1022
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_technology y = @1022 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
	}
	wire_torpedo = {

		destroyer = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		submarine = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		light_cruiser = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		heavy_cruiser = {
			naval_torpedo_hit_chance_factor = 0.05
		}
		naval_torpedo_reveal_chance_factor = -0.1

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		start_year = 1028
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_technology y = @1028 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 3
			}
		}
	}
	electric_torpedo = {

		naval_torpedo_reveal_chance_factor = -0.25

		path = {
			leads_to_tech = silent_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		start_year = 1010
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_subtech y = @1010 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}
	}
	silent_torpedo = {

		naval_torpedo_reveal_chance_factor = -0.15

		path = {
			leads_to_tech = advanced_homing_torpedo
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		start_year = 1019
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @torpedo_subtech y = @1019 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			cat_torpedoes
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}
	}
    ## Missiles
	basic_light_missile = {

		dependencies = {
			sp_rockets_dual_chamber_rocket_engine_1 = 1
		}

		enable_equipment_modules = {
			ship_light_ASM_battery_1
			ship_medium_ASM_battery_1
		}

		path = {
			leads_to_tech = improved_light_missile
			research_cost_coeff = 1
		}
		# path = {
		# 	leads_to_tech = basic_heavy_missile
		# 	research_cost_coeff = 0.9
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_missile y = @1025 }
		}

		categories = {
			naval_equipment
			naval_weaponry
			cat_ship_light_battery
			cat_ship_medium_battery
			rocketry
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}
	}
	improved_light_missile = {

		enable_equipment_modules = {
			ship_light_ASM_battery_2
			ship_medium_ASM_battery_2
		}

		# path = {
		# 	leads_to_tech = improved_heavy_missile
		# 	research_cost_coeff = 0.9
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1034
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @light_missile y = @1034 }
		}

		categories = {
			naval_equipment
			naval_weaponry
			rocketry
			cat_ship_light_battery
			cat_ship_medium_battery
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}
	}
	basic_heavy_missile = {

		dependencies = {
			sp_rockets_dual_chamber_rocket_engine_1 = 1
		}

		enable_equipment_modules = {
			ship_heavy_ASM_battery_1
			ship_super_heavy_ASM_battery_1
		}

		path = {
			leads_to_tech = improved_heavy_missile
			research_cost_coeff = 1
		}
		# path = {
		# 	leads_to_tech = basic_light_missile
		# 	research_cost_coeff = 0.9
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_missile y = @1025 }
		}

		categories = {
			naval_equipment
			naval_weaponry
			rocketry
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}
	}
	improved_heavy_missile = {

		enable_equipment_modules = {
			ship_heavy_ASM_battery_2
			ship_super_heavy_ASM_battery_2
		}

		# path = {
		# 	leads_to_tech = improved_light_missile
		# 	research_cost_coeff = 0.9
		# }

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1034
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @heavy_missile y = @1034 }
		}

		categories = {
			naval_equipment
			naval_weaponry
			rocketry
			cat_ship_heavy_battery
			mio_cat_tech_all_capital_ship_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2
			modifier = {
				factor = 2
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
		}
	}


    #region NavalSupport
    ## Damage Control
	damage_control_1 = {

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		path = {
			leads_to_tech = damage_control_2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = fire_control_methods_1
			research_cost_coeff = 0.5
		}
		path = {
			leads_to_tech = mtg_transport
			research_cost_coeff = 0.5
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @damage_control y = @993 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}
	}
	damage_control_2 = {

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		path = {
			leads_to_tech = damage_control_3
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @damage_control y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}
	}
	damage_control_3 = {

		critical_receive_chance = -0.1
		naval_critical_effect_factor = -0.1

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @damage_control y = @1007 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
			modifier = {
				factor = 1.5
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
			}
			modifier = {
				has_war = yes
				factor = 2
			}
		}
	}
    ## Fire Control
	fire_control_methods_1 = {

		battleship = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		battle_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		monitor = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		path = {
			leads_to_tech = fire_control_methods_2
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @fire_control y = @993 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
	fire_control_methods_2 = {

		battleship = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		battle_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		monitor = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		heavy_cruiser = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		path = {
			leads_to_tech = fire_control_methods_3
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @fire_control y = @1000 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
	fire_control_methods_3 = {

		battleship = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		battle_cruiser = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		monitor = {
			lg_attack = 0.15
			hg_attack = 0.15
		}
		heavy_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		light_cruiser = {
			lg_attack = 0.1
			hg_attack = 0.1
		}
		destroyer = {
			lg_attack = 0.05
			hg_attack = 0.05
		}
		submarine = {
			lg_attack = 0.05
			hg_attack = 0.05
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2.5
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @fire_control y = @1007 }
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
    ## Transport
	mtg_transport = {
		#NOTE: WHEN BALANCING - ALSO ADJUST IN REGULAR NAVAL TREE

		transport_capacity = -0.33
		naval_invasion_capacity = 10

		path = {
			leads_to_tech = mtg_landing_craft
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = sp_multi_product_supply_ships
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5
		start_year = 993
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @transport_ships y = @993 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0.5
				has_war = no
			}

			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 3
			}
		}
	}
	mtg_landing_craft = {

		dependencies = {
			basic_ship_hull_light = 1
		}

		enable_equipments = {
			floating_harbor_equipment_1
		}
		force_use_small_tech_layout = yes
		show_equipment_icon = yes

		invasion_preparation = -0.25
		amphibious_invasion_defence = 0.15
		naval_invasion_capacity = 20

		path = {
			leads_to_tech = mtg_tank_landing_craft
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @transport_ships y = @1007 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}
		}
	}
	mtg_tank_landing_craft = {

		amphibious_invasion = 0.25
		amphibious_invasion_defence = 0.5
		naval_invasion_capacity = 100

		path = {
			leads_to_tech = mtg_semi_modern_landing_craft
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @transport_ships y = @1013 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}
		}
	}
	mtg_semi_modern_landing_craft = {

		invasion_preparation = -0.25
		amphibious_invasion = 0.3
		naval_invasion_capacity = 125
		on_research_complete = {
			custom_effect_tooltip = {
				localization_key = SP_UNLOCK_PROJECT
				PROJECT = sp_naval_hovercraft
			}
		}

		path = {
			leads_to_tech = mtg_modern_landing_craft
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1019
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @transport_ships y = @1019 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}
		}
	}
	mtg_modern_landing_craft = {

		amphibious_invasion = 0.4
		amphibious_invasion_defence = 0.6
		naval_invasion_capacity = 150

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1028
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @transport_ships y = @1028 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 2

			modifier = {
				factor = 0.5
				has_war = no
			}
		}
	}


    #region SeaMining
    ## Deployment
	basic_naval_mines = {

		dependencies = {
			gw_artillery = 1
		}

		enable_equipment_modules = {
			ship_mine_layer_1
		}
		enable_equipment_modules = {
			ship_mine_sweeper_1
		}

		path = {
			leads_to_tech = improved_naval_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = submarine_mine_laying
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 993
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_deployment y = @993 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1.5
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = no
				factor = 2
			}
		}
	}
	improved_naval_mines = {

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		path = {
			leads_to_tech = advanced_naval_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = degaussing
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1007
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_deployment y = @1007 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1.5
			modifier = {
				has_war = yes
				factor = 2
			}
			modifier = {
				naval_focused_nation = no
				factor = 2
			}
		}
	}
	advanced_naval_mines = {

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		path = {
			leads_to_tech = modern_naval_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airdrop_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airdrop_mines_bba
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_deployment y = @1013 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
	modern_naval_mines = {

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		path = {
			leads_to_tech = airsweep_mines
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = airsweep_mines_bba
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = modern_naval_mines_2
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1016
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_deployment y = @1016 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
	modern_naval_mines_2 = {

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		path = {
			leads_to_tech = degaussing_2
			research_cost_coeff = 1
		}
		path = {
			leads_to_tech = modern_naval_mines_3
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_deployment y = @1025 }
		}

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
	modern_naval_mines_3 = {

		naval_mines_damage_factor = 0.2 # more boom for the boom box

		path = {
			leads_to_tech = advanced_air_mines
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1031
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_deployment y = @1031 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 1.5
			}
		}
	}
    ## Detection
	degaussing = {

		naval_mines_effect_reduction = 0.5
		destroyer = {
			sub_detection = 0.1
		}
		light_cruiser = {
			sub_detection = 0.1
		}
		heavy_cruiser = {
			sub_detection = 0.1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1010
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1010 }
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}
	}
	airdrop_mines = {

		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		category_nav_bomber = {
			mines_planting = 0.05
		}
		category_tac_bomber = {
			mines_planting = 0.08
		}
		category_strat_bomber = {
			mines_planting = 0.13
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1013 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}
	}
	airdrop_mines_bba = {

		allow_branch = {
			has_dlc = "By Blood Alone"
		}

		enable_equipment_modules = {
			airdropped_mines
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1013 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}
	}
	airsweep_mines = {

		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		category_nav_bomber = {
			mines_sweeping = 0.1
		}
		category_tac_bomber = {
			mines_sweeping = 0.15
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1016
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1016 }
		}
		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
		}
	}
	airsweep_mines_bba = {

		allow_branch = {
			has_dlc = "By Blood Alone"
		}

		enable_equipment_modules = {
			demining_coil
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1016
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1016 }
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
		}
	}
	degaussing_2 = {

		naval_mines_effect_reduction = 0.25

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1025 }
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_submarine_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
			modifier = {
				naval_focused_nation = yes
				OR = {
					has_war = no
					AND = {
						surrender_progress < 0.1
						any_enemy_is_on_the_same_landmass = no
					}
				}
				factor = 2
			}
		}
	}
	advanced_air_mines = {
		#NOTE: only needed for non-BBA because it only lets CAS do mining/demining

		allow_branch = {
			NOT = { has_dlc = "By Blood Alone" }
		}

		category_cas = {
			mines_planting = 0.05
			mines_sweeping = 0.1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 3
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_tech y = @1025 }
		}

		categories = {
			naval_mines
			naval_minesweeping
			naval_equipment
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1
		}
	}
    ## Submarines
	submarine_mine_laying = {

		enable_equipment_modules = {
			ship_mine_layer_sub
		}

		path = {
			leads_to_tech = improved_submarine_mine_laying
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 993
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_sub_tech y = @993 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 1.5
		}
	}
	improved_submarine_mine_laying = {

		submarine = {
			mines_planting = 0.2
		}

		path = {
			leads_to_tech = advanced_submarine_mine_laying
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1013
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_sub_tech y = @1013 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
		}
	}
	advanced_submarine_mine_laying = {

		submarine = {
			mines_planting = 0.2
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 2
		start_year = 1025
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @seamine_sub_tech y = @1025 }
		}

		categories = {
			naval_mines
			naval_minelaying
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_submarine_and_modules
		}
		special_project_specialization = { specialization_naval }

		ai_will_do = {
			factor = 3
		}
	}


	#region SpecialProjects
	sp_multi_product_supply_ships = {

		allow_branch = {
			has_dlc = "Gotterdammerung"
		}
		allow = {
	 		ROOT = {
				is_special_project_completed = sp:sp_naval_underway_replenishment
			}
		}
		force_use_small_tech_layout = yes
		is_special_project_tech = yes

		underway_replenishment_range = 0.25
		underway_replenishment_convoy_cost = -0.2

		path = {
			leads_to_tech = sp_standard_tenshioned_replenishment_alongside_method
			research_cost_coeff = 1
		}

		xp_research_type = navy
		xp_boost_cost = 75
		xp_research_bonus = 1.75
		research_cost = 2.0
		start_year = 1010
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @ns_sp y = @1010 }
		}
		folder = {
			name = naval_folder
			position = { x = @ns_sp y = @1010 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}
	sp_standard_tenshioned_replenishment_alongside_method = {

		allow = {
	 		ROOT = {
				is_special_project_completed = sp:sp_naval_underway_replenishment
			}
		}
		force_use_small_tech_layout = yes
		is_special_project_tech = yes

		underway_replenishment_range = 0.25
		underway_replenishment_convoy_cost = -0.2

		xp_research_type = navy
		xp_boost_cost = 75
		xp_research_bonus = 1.5
		research_cost = 2.5
		start_year = 1022
		folder = {
			name = mtgnavalsupportfolder
			position = { x = @ns_sp y = @1022 }
		}
		folder = {
			name = naval_folder
			position = { x = @ns_sp y = @1022 }
		}

		categories = {
			naval_equipment
			tp_tech
		}
		special_project_specialization = { specialization_naval }
	}




    #region Deleted
	basic_dp_light_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1010

		enable_equipment_modules = {
			dp_light_battery_2
			dp_ship_secondaries_2
			dp_light_battery_1
			dp_ship_secondaries_1
		}

		path = {
			leads_to_tech = improved_dp_light_battery
			research_cost_coeff = 1
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 11 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
	improved_dp_light_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1010

		enable_equipment_modules = {
			dp_light_battery_3
			dp_ship_secondaries_3
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		path = {
			leads_to_tech = advanced_dp_light_battery
			research_cost_coeff = 1
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 13 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
	advanced_dp_light_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1

		start_year = 1015

		enable_equipment_modules = {
			dp_light_battery_4
			dp_ship_secondaries_4
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = -3 y = 19 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_carrier_and_modules
			mio_cat_tech_all_cruiser_and_modules
			mio_cat_tech_all_destroyer_and_modules
		}
	}
	basic_dp_medium_battery = {
		allow = {
			always = no
		}

		xp_research_type = navy
		xp_boost_cost = 50
		xp_research_bonus = 1.50
		research_cost = 1.5

		start_year = 1015

		enable_equipment_modules = {
			dp_ship_medium_1
		}

		on_research_complete = {
			custom_effect_tooltip = secondary_battery_advice_tt
		}

		folder = {
			name = mtgnavalsupportfolder
			position = { x = 3 y = 19 }
		}

		ai_will_do = {
			factor = 2
			modifier = {
				tag = HIP
				factor = 20
			}
		}

		categories = {
			naval_equipment
			ship_modules_tech
			mio_cat_tech_all_capital_ship_and_modules
			mio_cat_tech_all_screen_ship_and_modules
			mio_cat_tech_all_cruiser_and_modules
		}
		special_project_specialization = { specialization_naval }
	}
}